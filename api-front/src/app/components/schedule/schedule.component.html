<ng-template
    #currentTimeMarkerTemplate
    let-columnDate="columnDate"
    let-dayStartHour="dayStartHour"
    let-dayStartMinute="0"
    let-dayEndHour="dayEndHour"
    let-dayEndMinute="60"
    let-isVisible="isVisible"

    let-topPx="topPx"
>

    <div class="cal-current-time-marker" [style.top.px]="topPx+13" *ngIf="isVisible" >
     <div class="bg-red-500 w-fit text-xs">{{ nowDate }}</div>
    </div>
</ng-template>

<ng-template
    #eventTemplateCustom
    let-dayEvent="dayEvent"
    let-tooltipPlacement="tooltipPlacement"
    let-eventClicked="eventClicked"
    let-tooltipTemplate="tooltipTemplate"
    let-tooltipAppendToBody="tooltipAppendToBody">

</ng-template>

<div class="grid-cols-3">
    <div class="flex flex-wrap gap-1">
        <div
                role="button"
                class="text-white bg-blue-500 hover:bg-blue-600 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"
                mwlCalendarPreviousView
                [view]="view"
                [(viewDate)]="viewDate"
                (viewDateChange)="closeOpenMonthViewDay()"
        >
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18" />
            </svg>
        </div>
        <div role="button" class=" text-center w-56 text-white bg-blue-500 hover:bg-blue-600 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800">
            <h3>{{ viewDate | calendarDate:(view + 'ViewTitle'):'fr' }}</h3>
        </div>
        <div role="button"
                class="text-white bg-blue-500 hover:bg-blue-600 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"
                mwlCalendarNextView
                [view]="view"
                [(viewDate)]="viewDate"
                (viewDateChange)="closeOpenMonthViewDay()"
        >
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3" />
            </svg>
        </div>
    </div>
    <div class="flex flex-wrap gap-1">
      <div class="px-14 py-2.5 mb-2">

      </div>
      <div role="button"
              class="justify-self-center text-white bg-blue-500 hover:bg-blue-600 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"
              mwlCalendarToday
              [(viewDate)]="viewDate"
      >
          Aujourd'hui
      </div>

    </div>
</div>
<br />

<div [ngSwitch]="view">
    <mwl-calendar-week-view
            *ngSwitchCase="CalendarView.Week"
            [viewDate]="viewDate"
            [refresh]="refreshCalendar"
            [dayStartHour]="8"
            [dayEndHour]="20"
            [hourSegments]="3"
            [hourDuration]="30"
            [events]="events"
            (eventTimesChanged)="eventTimesChanged($event)"
            (hourSegmentClicked)="setView(CalendarView.Day, $event.date)"
            [hourSegmentHeight]="13"
            [currentTimeMarkerTemplate]="currentTimeMarkerTemplate"
            [snapDraggedEvents]="false"
    >
    </mwl-calendar-week-view>
    <mwl-calendar-day-view
            *ngSwitchCase="CalendarView.Day"
            [viewDate]="viewDate"
            [refresh]="refreshCalendar"
            [dayStartHour]="8"
            [dayEndHour]="20"
            [hourSegments]="3"
            [hourDuration]="30"
            [events]="events"
            (eventTimesChanged)="eventTimesChanged($event)"
            (hourSegmentClicked)="setView(CalendarView.Week, $event.date)"
            [hourSegmentHeight]="13"
            [currentTimeMarkerTemplate]="currentTimeMarkerTemplate"
            [snapDraggedEvents]="false"
    >
    </mwl-calendar-day-view>


</div>
